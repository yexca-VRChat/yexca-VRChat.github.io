---
title: 随机播放音乐
weight: 2
slug: /script/Shuffle_Playback
---

{{% hint info %}}
**随机播放音乐**  
使用 Avatar Parameter Driver 脚本想到的一个例子，哪个男孩不想自定义一个播放器呢
{{% /hint %}}

## 一、准备文件

已经录好开关音频的动画文件，可参考：[自身跳 MMD 舞蹈](/script/self_mmd/#%E4%BA%8C%E5%88%B6%E4%BD%9C%E9%9F%B3%E4%B9%90%E5%BC%80%E5%85%B3)

## 二、参数

| 参数                         | 动画器(FX层) | 数值                                                | 描述             |
| ---------------------------- | ------------ | --------------------------------------------------- | ---------------- |
| 开关(Bool) 例如“Music_Start” | 添加         | 添加                                                | 控制随机播放开关 |
| 选择歌曲(Int) 例如”Music”    | 添加         | 可选(如果添加可在游戏显示 当前播放歌曲和切换下一首) | 控制选择的歌曲   |

## 三、图层

参加参数后，新建一个图层，重命名后权重设为1，如下图所示

![img](https://jsd.cdn.zzko.cn/gh/yexca/picx-images-hosting@master/2022-VRChat/04-随机音乐/image.70l2gvlag0s0.webp)

## 四、菜单

在VRC数值中添加参数后制作菜单

### 1）如果只是做一个开关

只需要添加一个“Toggle”，参数为“Music_Start”即可

### 2）游戏中显示当前播放歌曲

建议做一个子菜单

先添加一个开关，即添加一个“Toggle”，参数为“Music_Start”

然后再添加几个(歌曲数量)“Toggle”，参数为“Music”，值为图层中对应条件

### 3）添加下一首

其实做了游戏中显示当前播放歌曲后在游戏中点击任意歌曲即可切换

所以可以添加一个“Toggle”，参数为“Music”，值为“0”或者其他都行

## 五、其他

利用此脚本也可以实现顺序播放，倒序播放等

也可以做一个招式(动画)的随机语音
